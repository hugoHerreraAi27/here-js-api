
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.57.0/HERE_NOTICE
 */

H.util.eval("function Vq(a,b){var c,d=0;if(!ya(a)||Ma(a))throw new D(Vq,0,a);for(c in a){var e=+c;d++;if(!(jb(e)&&0<=e&&1>=e&&gb(a[c])))throw new D(Vq,0,a);}if(2>d)throw new D(Vq,0,\"Specify at least 2 stops\");this.lD=a;this.Pu=!!b}t(\"H.data.heatmap.Colors\",Vq);var Wq=new Vq({0:\"#008\",\"0.2\":\"#0b0\",\"0.5\":\"#ff0\",\"0.7\":\"#f00\"},!0);Vq.DEFAULT=Wq;function Xq(a,b,c,d,e){e&1&&Yq(a,a,b,c,d,0);e&2&&Yq(a,a,b,c,d,1);e&4&&Yq(a,a,b,c,d,2);e&8&&Yq(a,a,b,c,d,3)}\nfunction Yq(a,b,c,d,e,f){var g=(c+1)*(c+1),h,k=4*d,l=c+1,n,p=[{r:0,kz:0,b:0,a:0,next:null}];var q=1;var r=[\"r\",\"g\",\"b\",\"a\"][f];var v=2*c+1;for(var w,y;q<v;q++)p[q]={r:0,kz:0,b:0,a:0,next:null},p[q-1].next=p[q];p[2*c].next=p[0];var G=4*(d-1);for(h=0;h<e;h++){var I=h*k;var P=a[I+f];var W=P*l*(c+2)/2;v=P*l;for(q=0;q<=c;q++)p[q][r]=P;var Ua=0;for(q=1;q<=c;q++){var ba=q<d?I+4*q:I+G;ba=a[ba+f];W+=ba*(l-q);Ua+=ba;p[c+q][r]=ba}ba=p[0];w=p[l];q=I;y=4*l;var ub=I+G;for(P=0;P<d;P++){b[q+f]=W/g;W-=v;var Ca=P+\nl<d?q+y:ub;Ca=a[Ca+f];Ua+=Ca;W+=Ua;v-=ba[r];v+=w[r];Ua-=w[r];ba[r]=Ca;ba=ba.next;w=w.next;q+=4;if(!W)for(;(n=4*(P+l))<k&&0===a[I+f+n];)P++,q+=4}}I=(e-1)*k;for(P=0;P<d;P++){a=4*P;h=b[a+f];W=h*l*(c+2)/2;v=h*l;for(q=0;q<=c;q++)p[q][r]=h;Ua=0;for(q=1;q<=c;q++)ba=q<e?a+q*k:a+I,ba=b[ba+f],W+=ba*(c-q+1),Ua+=ba,p[c+q][r]=ba;ba=p[0];w=p[l];q=a;ub=l*k;G=a+I;for(h=0;h<e;h++)if(b[q+f]=W/g,W-=v,Ca=h+l<e?q+ub:G,Ca=b[Ca+f],Ua+=Ca,W+=Ua,v-=ba[r],v+=w[r],Ua-=w[r],ba[r]=Ca,ba=ba.next,w=w.next,q+=k,!W)for(;(n=h+l)<\ne&&0===b[n*k+f+a];)h++,q+=k}};function Zq(a,b,c){this.WA=b=a>>b;this.yB=Math.log(b)*Math.LOG2E;this.Cc=a=document.createElement(\"CANVAS\");this.ty=a.getContext(\"2d\");this.uy=a.width=a.height=3*b;var d=document.createElement(\"canvas\");a=c.Pu;var e=c.lD;b=[];var f;d.width=256;d.height=1;d=d.getContext(\"2d\");for(g in e)e.hasOwnProperty(g)&&b.push({stop:parseFloat(g),value:e[g]});e=b.length;b.sort(this.kD);0<b[0].stop&&b.unshift({stop:0,value:b[0].value});1>b[e-1].stop&&b.push({stop:1,value:b[e-1].value});e=b.length;var g=d.createLinearGradient(0,\n0,256,0);for(f=0;f<e;f++){if(!a&&k){var h=k.stop+(b[f].stop-k.stop)/2;g.addColorStop(h,k.value);g.addColorStop(h,b[f].value)}g.addColorStop(b[f].stop,b[f].value);var k=b[f]}d.fillStyle=g;d.fillRect(0,0,256,1);this.By=d.getImageData(0,0,256,1).data;this.XA=c.Pu}Zq.prototype.kD=function(a,b){return a.stop-b.stop};Zq.prototype.Rx=\"#000\";Zq.prototype.fy=\"#080\";function $q(a,b){this.canvas=a;this.size=b};function ar(a,b,c){this.bf=a=ac(a,0,30);this.Qa=b;this.oj=c;this.gs=[];this.ci=[];do this.ci[a]=[],this.gs[a]=new br;while(a--);b===cr?(this.Ts=dr,this.normalize=er):(this.Ts=fr,this.normalize=gr);this.gk=1/0;this.Xm=-1/0}var hr=Math.log(.5);function er(a){return this.ip?Math.round((a-this.gk)/this.ip*255):127}function gr(a){return void 0===this.bu?127:Math.round(255*Math.pow(a,this.bu))}\nar.prototype.xc=function(a){var b,c;var d=a.value;void 0===d&&(d=1);d>this.Xm&&(this.Xm=d,this.ip=this.Xm-this.gk);d<this.gk&&(this.gk=d,this.ip=this.Xm-this.gk);var e=ld.Re(a).scale(1073741823).floor();d=this.bf;var f=e.x>>30-d;e=e.y>>30-d;for(c=this.Ts;-1<d;){this.ci[d][e]||(this.ci[d][e]=[]);(b=this.ci[d][e][f])||(b=this.ci[d][e][f]=new c(f,e,d));b.xc(a,d);var g=this.gs[d];g.zv>b.dd&&(g.zv=b.dd);g.Qh<b.dd&&(g.Qh=b.dd);g.yv>b.Ac&&(g.yv=b.Ac);g.Iq<b.Ac&&(g.Iq=b.Ac);d--;f>>=1;e>>=1}};\nfunction ir(a,b,c,d,e){var f=1<<b,g,h;d=$b(d,f);f=0<=c&&c<f&&(g=a.ci[b])&&(h=g[c])&&(f=h[d])||null;!f&&e&&0<=b&&(f=ir(a,b-1,c>>1,d>>1,e));return f}function jr(a,b,c,d,e,f){for(var g,h=[];c<=d;c++)for(g=e;g<=f;g++)h.push(ir(a,b,c,g,!1));return h}function kr(a,b){var c=0,d=0,e=ir(a,0,0,0,!1),f;if(b.fm)return b.Aj;b.z===a.bf?b.Aj=b.Ac:(lr(a,b,function(g){var h=mr(a,g),k=4-h.length;if(g.z!==a.bf){for(f=0;f<h.length;f++)c+=h[f].Ac,d++;c+=k*e.Ac;d+=k}}),b.Aj=c/d);b.fm=!0;return b.Aj}\nfunction lr(a,b,c){b=[b];for(var d,e;0<b.length;)e=b.shift(),d=mr(a,e),c(e),b.push.apply(b,d)}function mr(a,b){var c=[],d,e,f;for(e=0;1>=e;e++)for(f=0;1>=f;f++)(d=ir(a,b.z+1,2*b.x+e,2*b.y+f,!1))&&c.push(d);return c}ar.prototype.clear=function(){ar.call(this,this.bf,this.Qa,this.oj)};function fr(a,b,c){this.x=a;this.y=b;this.z=c;this.Ac=this.dd=this.count=0;this.fm=!1;this.Aj=0}fr.prototype.xc=function(a,b){this.count++;this.dd+=a.value||1;this.Ac=this.dd/Math.pow(2,2*(30-b))};\nfunction dr(a,b,c){this.x=a;this.y=b;this.z=c;this.Ac=this.dd=this.count=0;this.fm=!1;this.Aj=0}dr.prototype.xc=function(a){a=a.value;this.dd+=void 0!==a?a:1;this.Ac=this.dd/++this.count;this.fm=!1};function br(){this.zv=this.yv=1/0;this.Qh=this.Iq=-1/0};function nr(a){var b=a||{},c=+b.sampleDepth,d=b.pointSize;a=+b.coarseness;var e=b.colors,f={min:b.min,max:b.max,engineType:b.engineType},g=b.tileSize,h=+b.dataMax;b.tileSize&&(f.tileSize=g);R.call(this,f);this.Eg(b.opacity);this.Qa=\"value\"===b.type?cr:or;this.sampleDepth_=jb(c)?ac(Math.round(c),1,8):4;this.Jw=this.Qa===or?jb(d)?ac(Math.round(7-d),0,6):2:1;this.et=!!b.assumeValues;b=this.max;this.oj=jb(h)?ac(Math.round(h),this.min,b+this.sampleDepth_):b;a=jb(a)?ac(Math.round(a),0,3):1;if(e&&!C(e,Vq))throw new D(nr,\n0,\"colors\");this.Bi=new ar(b+this.sampleDepth_+this.Jw,this.Qa,this.oj);this.rD=new Zq(this.tileSize,a,e||Wq);this.rg=A(this.rg,this);this.kg=A(this.kg,this);this.Mn=new Jk(20,this.rg)}u(nr,R);t(\"H.data.heatmap.Provider\",nr);nr.prototype.Ed=function(a){this.Eg(a)};nr.prototype.setOpacity=nr.prototype.Ed;nr.prototype.Ue=function(){return this.Qc};nr.prototype.getOpacity=nr.prototype.Ue;nr.prototype.zk=xe;nr.prototype.providesRasters=nr.prototype.zk;\nnr.prototype.s=function(a,b,c,d,e){var f=this.et,g,h;if(ir(this.Bi,0,0,0,!1)){if(!f){var k=jr(this.Bi,c,b-1,b+1,a-1,a+1);for(g=k.length;g--&&!f;)if(null!==k[g]){f=!0;break}}f&&(h=this.Mn.push([a,b,c,d,e],this.kg))}f||d(null);return h||jj};nr.prototype.requestInternal=nr.prototype.s;\nnr.prototype.rg=function(a,b){var c=a.done,d=b[0],e=b[1],f=b[2];b=document.createElement(\"canvas\");var g=this.tileSize,h=b.getContext(\"2d\");b.width=b.height=g;var k=this.rD;var l=this.Bi,n=this.et,p=this.Qa,q=this.Jw;var r=k.WA;var v=k.ty,w,y,G=p===or?void 0===q?2:q:1;q=G;G=Math.min(this.sampleDepth_+G,k.yB);var I=k.uy,P=l.bf;if(n&&p===cr){for(y=-1;1>=y;y++)for(n=-1;1>=n;n++){var W=(W=ir(l,f,e+y,d+n,!0))?l.normalize(kr(l,W)):128;v.fillStyle=\"rgba(\"+W+\",128,0,1)\";v.fillRect((n+1)*r,(y+1)*r,r,r)}n=\nr-Math.floor(r/10);y=3;W=v.getImageData(0,0,I,I);Xq(W.data,n,I,I,y);v.putImageData(W,0,0)}else v.fillStyle=n?k.fy:k.Rx,v.fillRect(0,0,I,I);for(;q<=G&&f+q<=P;q++){n=r>>q;y=r-n;var Ua=p===or?127+Math.floor(128/(1<<G-q)):255;W=(1<<q)+2;var ba=1<<q;var ub=d<<q;var Ca=e<<q;ba=jr(l,f+q,Ca-1,Ca+ba,ub-1,ub+ba);for(ub=ba.length;ub--;){Ca=ub%W;var Qa=ub/W<<0;if(w=ba[ub])w=l.normalize(w.Ac),v.fillStyle=\"rgba(\"+w+\",\"+Ua+\",0,1)\",v.fillRect(Ca*n+y,Qa*n+y,n,n)}W=v;Ua=n;ba=y;ub=r+2*n;n=r+2*n;Ca=Ca=3;Qa=v.getImageData(ba,\ny,ub,n);Xq(Qa.data,Ua,ub,n,Ca);W.putImageData(Qa,ba,y)}d=v.getImageData(0,0,I,I);e=k.By;f=k.XA;l=d.data;G=0;for(I=l.length;G<I;G+=4)p=l[G],q=l[G+1],4===e.length&&(p=0),l[G]=e[4*p],l[G+1]=e[4*p+1],l[G+2]=e[4*p+2],l[G+3]=e[4*p+3]*(f?q/255:10>q?0:1);v.putImageData(d,0,0);k=new $q(k.Cc,r);r=k.size;h.drawImage(k.canvas,r,r,r,r,0,0,g,g);c.call(a,b)};nr.prototype.kg=function(a,b,c){var d=a.data;a=d[3];d=d[4];c?d():a(b)};\nnr.prototype.Zs=function(a,b){var c;if(!fb(a))throw new D(this.Zs,0,a);if(c=a.length){for(;c--;)this.Bi.xc(a[c]);a=this.Bi;var d;c=a.gs;var e=a.bf,f=0;if(a.Qa===or){var g=c[a.bf].Qh;for(d=a.bf;0<=d;d--)if(c[d].Qh===g)f=d;else break;g=c[0].Qh;for(d=0;d<=f;d++)if(g===c[d].Qh)e=d;else break;f>a.oj&&(f=a.oj);g=Math.round(e+(f-e)/2);a.bu=hr/Math.log(c[g].Iq)}this.reload(!!b)}};nr.prototype.addData=nr.prototype.Zs;nr.prototype.clear=function(){this.Bi.clear();this.reload(!0)};nr.prototype.clear=nr.prototype.clear;var or=0,cr=1;function pr(a,b){this.Ya=a;this.Oe=b}\npr.prototype.create=function(a,b){var c=a.coordinates;switch(a.type){case \"Point\":var d=new $m(qr(c));break;case \"LineString\":d=new mm(rr(c));break;case \"Polygon\":d=new zi(sr(c));break;case \"MultiPoint\":var e=0;var f=c.length;d=[];if(this.Oe){for(;e<f;e++)d.push(qr(c[e]));c=new $m(new mg(d))}else{for(;e<f;e++)d.push(new $m(qr(c[e])));c=new T;c.hd(d)}d=c;f=\"multiPoint\";break;case \"MultiLineString\":e=0;f=c.length;d=[];if(this.Oe){for(;e<f;e++)d.push(rr(c[e]));c=new mm(new lh(d))}else{for(;e<f;e++)d.push(new mm(rr(c[e])));\nc=new T;c.hd(d)}d=c;f=\"multiLineString\";break;case \"MultiPolygon\":d=[];e=0;f=c.length;if(this.Oe){for(;e<f;e++)d.push(sr(c[e]));c=new zi(new kh(d))}else{for(;e<f;e++)d.push(new zi(sr(c[e])));c=new T;c.hd(d)}d=c;f=\"multiPolygon\";break;case \"GeometryCollection\":c=d=new T;e=a.geometries;f=0;for(var g=e.length;f<g;f++)this.create(e[f],c);f=\"geometryCollection\"}d&&(c=d,e=a.properties,a=a.id,g={},e&&(this.Oe?g=e:g.properties=e),f&&!this.Oe&&(g[f]=!0),a&&c.Zr(a),c.setData(g),this.Ya(d));b&&d&&b.Y(d);return d};\npr.prototype.create=pr.prototype.create;function qr(a){return new fd(a[1],a[0])}function sr(a){for(var b=rr(a[0]),c=[],d,e=1,f=a.length;e<f;e++)d=rr(a[e]),c.push(d);return new N(b,c)}function rr(a){for(var b=0,c=a.length,d=new M;b<c;b++)d.sg(qr(a[b]));return d};function tr(a){bb(this,tr);this.url=a;this.gj=[];this.ae=z;this.lj=A(this.lj,this);K.call(this)}u(tr,K);t(\"H.data.AbstractReader\",tr);var ur={ERROR:-1,LOADING:0,VISIT:1,READY:2};tr.State=ur;tr.prototype.state=ur.READY;tr.prototype.j={ey:\"statechange\"};tr.prototype.Tb=function(){if(!this.ae){this.ae=new Q;var a=this.ae.rd();a.hd(this.gj)}return new bl(this.ae)};tr.prototype.getLayer=tr.prototype.Tb;tr.prototype.lA=function(){return this.gj.concat([])};tr.prototype.getParsedObjects=tr.prototype.lA;\ntr.prototype.i=function(){return this.url};tr.prototype.getUrl=tr.prototype.i;tr.prototype.bD=function(a){if(this.state===ur.LOADING||this.state===ur.VISIT)throw Error(\"InvalidState: state \"+this.state);this.gj=[];this.ae=z;this.url=a;return this};tr.prototype.setUrl=tr.prototype.bD;tr.prototype.getState=function(){return this.state};tr.prototype.getState=tr.prototype.getState;tr.prototype.F=function(a,b,c){this.state=a;this.dispatchEvent(new vr(b||this,this.j.ey,a,c||\"\"))};\ntr.prototype.parse=function(){var a=this;ab(this.url)?(this.F(ur.LOADING),(new Ue(\"text/plain\",this.url)).then(function(b){try{a.lj(b)}catch(c){a.F(ur.ERROR,z,c.message)}},function(){a.F(ur.ERROR,z,\"Error loading file\")})):a.F(ur.ERROR,z,\"File url was not set\")};tr.prototype.parse=tr.prototype.parse;function vr(a,b,c,d){vr.g.constructor.call(this,b,a);this.state=c;this.message=d}u(vr,uc);tr.Event=vr;function wr(a,b){b=b||{};this.Ya=b.style||this.gh;(this.Oe=!!b.disableLegacyMode)||window.console.warn(\"H.data.geojson.Reader: Legacy parser is enabled in GeoJSON Reader. Features like Multi-Geometries, Polygon interiors and GeoJSON feature properties might not work as expected. To maximise compatibility with the remote services it is recommended to set the `disableLegacyMode` flag to true.\");tr.call(this,a)}u(wr,tr);t(\"H.data.geojson.Reader\",wr);\nwr.prototype.lj=function(a){var b,c;try{var d=\"string\"===typeof a?JSON.parse(a):a;if(\"object\"===typeof d){var e=new pr(this.Ya,this.Oe);switch(d.type){case \"FeatureCollection\":if(b=d.features){var f=new T;this.Rg(f);for(c=0;c<b.length;c++){var g=xr(b[c]);(g=e.create(g))&&f.Y(g)}}break;case \"Feature\":g=xr(d);(g=e.create(g))&&this.Rg(g);break;default:(g=e.create(d))&&this.Rg(g)}this.F(ur.READY)}else this.F(ur.ERROR,z,\"Invalid syntax\")}catch(h){this.F(ur.ERROR,z,\"Parse error. \"+h.message)}};\nwr.prototype.nC=function(a){this.F(ur.LOADING);this.lj(a)};wr.prototype.parseData=wr.prototype.nC;wr.prototype.gh=function(){};function xr(a){var b={};if(a.geometry){var c=a.geometry;b.type=c.type;b.properties=a.properties;c.coordinates&&(b.coordinates=c.coordinates);c.geometries&&(b.geometries=c.geometries);a.id&&(b.id=a.id)}return b}wr.prototype.Rg=function(a){this.ae&&this.ae.rd().Y(a);this.gj.push(a);this.F(ur.VISIT,a)};function yr(){}t(\"H.data.utils.Dom\",yr);yr.prototype.sh=function(a){return!!a&&/^\\s*(1|true)\\s*$/i.test(this.Ua(a))};yr.prototype.getBoolean=yr.prototype.sh;yr.prototype.Ua=function(a){var b;try{if(a.nodeType===Node.ATTRIBUTE_NODE)return a.value;var c=\"\";var d=0;var e=a.childNodes;for(b=e.length;d<b;d++)e[d].nodeType!==Node.COMMENT_NODE&&(c+=e[d].nodeValue.replace(/^\\s+|\\s+$/g,\"\"))}catch(f){}return c||\"\"};yr.prototype.getString=yr.prototype.Ua;\nyr.prototype.mm=function(a){return parseFloat(this.Ua(a))||0};yr.prototype.getFloat=yr.prototype.mm;yr.prototype.$v=function(a){var b=a.split(/\\s+/),c=b.length,d=!(b&&1==c),e=d?1:3,f=[],g;d||(b=a.split(\",\"),c=b.length);for(g=0;g<c;g+=e)if(a=this.fr(d?b[g]:g+3>b.length?null:b.slice(g,g+3)))f.push(a);else return[];return f};yr.prototype.parseCoords=yr.prototype.$v;\nyr.prototype.fr=function(a){if(!a)return null;var b=a instanceof Array&&0<a.length&&4>a.length?a:a.split(\",\");a=parseFloat(b[0]);var c=parseFloat(b[1]);b=parseFloat(b[2]);return isNaN(c)||isNaN(a)?null:new fd(c,a,isNaN(b)?void 0:b)};yr.prototype.parseCoord=yr.prototype.fr;yr.prototype.km=function(a){a=this.Ua(a);return/^[0-9a-fA-F]{8}$/.test(a)?\"#\"+a.substr(6,2)+a.substr(4,2)+a.substr(2,2)+a.substr(0,2):\"#000000ff\"};yr.prototype.getColor=yr.prototype.km;function zr(){this.VA={4:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),\"ff\"].join(\"\")},5:function(a){return[\"#\",a.charAt(1),a.charAt(1),a.charAt(2),a.charAt(2),a.charAt(3),a.charAt(3),a.charAt(4),a.charAt(4)].join(\"\")},7:function(a){return a+\"ff\"},9:function(a){return a}};this.QC={4:function(a){return[Ar(a.charAt(1)),Ar(a.charAt(2)),Ar(a.charAt(3)),255]},5:function(a){return[Ar(a.charAt(1)),Ar(a.charAt(2)),Ar(a.charAt(3)),Ar(a.charAt(4))]},7:function(a){a=\nparseInt(a.substring(1),16);return[a>>16&255,a>>8&255,a&255,255]},9:function(a){a=parseInt(a.substring(1),16);return[a>>24&255,a>>16&255,a>>8&255,a&255]}}}t(\"H.data.utils.ColorHelper\",zr);function Ar(a){a=parseInt(a,16);return(a<<4)+a}function Br(a){return 16>a?\"0\"+Math.round(a).toString(16):Math.round(a).toString(16)}\nfunction Cr(a,b,c){if(!/^(#|rgb).*/.test(b))return[0,0,0,255];c||(c=\"\",\"#\"===b.charAt(0)?c=a.VA[b.length]?b:\"\":\"rgb\"===b.substr(0,3)&&(b=b.match(/\\d+(\\.\\d+)?/g),c=b.length,c=2<c&&5>c?[\"#\",Br(+b[0]),Br(+b[1]),Br(+b[2]),3<c?Br(255*+b[3]):\"ff\"].join(\"\"):\"\"),b=c);a=a.QC[b.length](b);a[3]=Math.round(a[3]/255*100)/100;return a}\nzr.prototype.ux=function(a,b){var c=\"\";if(!/^(#|rgb).*/.test(a)){c=\"\";for(a=0;6>a;a++)c+=\"ABCDEF0123456789\".charAt(Math.floor(16*Math.random()));return c+\"ff\"}a=Cr(this,a,b);for(b=0;4>b;b++)c+=\"\"+Br(3>b?Math.floor(Math.random()*(a[b]-0+1))+0:255*a[b]);return c};zr.prototype.toRandomRGBA=zr.prototype.ux;function Dr(a){a=a.childNodes;for(var b,c=a.length,d=new yr,e=new zr;c--;)switch(b=a[c],b.nodeName){case \"color\":this.color=d.km(b);break;case \"colorMode\":this.Ay=d.Ua(b)}\"random\"===this.Ay&&(this.color=\"#\"+e.ux(this.color,!1))}t(\"H.data.kml.ColorStyle\",Dr);function Er(a){var b=a.childNodes,c=b.length,d=new yr;for(this.Ml=new Dr(a);c--;)a=b[c],\"width\"===a.nodeName&&(this.width=d.mm(a))}t(\"H.data.kml.LineStyle\",Er);function Fr(a){a=a.childNodes;for(var b,c=a.length,d=new yr;c--;)switch(b=a[c],b.nodeName){case \"bgColor\":this.bgColor=d.km(b);break;case \"textColor\":this.textColor=d.km(b);break;case \"text\":this.text=d.Ua(b);break;case \"displayMode\":this.displayMode=d.Ua(b)}}t(\"H.data.kml.BalloonStyle\",Fr);function Gr(a){var b=a.childNodes,c=b.length,d=new yr;this.outline=this.fill=!0;for(this.Ml=new Dr(a);c--;)switch(a=b[c],a.nodeName){case \"fill\":this.fill=d.sh(a);break;case \"outline\":this.outline=d.sh(a)}}t(\"H.data.kml.PolyStyle\",Gr);function Hr(a){var b=a.childNodes,c=new yr;this.offsetX=this.offsetY=0;for(a=b.length;a--;){var d=b[a];switch(d.nodeName){case \"href\":this.href=c.Ua(d)}}}t(\"H.data.kml.Icon\",Hr);function Ir(a){a=a.attributes;for(var b,c=a.length;c--;)switch(b=a[c],b.name){case \"x\":this.x=parseFloat(b.value);break;case \"y\":this.y=parseFloat(b.value);break;case \"xunits\":this.Ye=\"fraction\"===yr.prototype.Ua(b);break;case \"yunits\":this.Zd=\"fraction\"===yr.prototype.Ua(b)}}t(\"H.data.kml.HotSpot\",Ir);function Jr(a){var b;if(a){a=a.childNodes;var c=a.length;for(b=new yr;c--;){var d=a[c];switch(d.nodeName){case \"scale\":this.scale=b.mm(d);break;case \"Icon\":this.icon=d=new Hr(d);break;case \"hotSpot\":this.Fu=d=new Ir(d)}}}}t(\"H.data.kml.IconStyle\",Jr);function Kr(a){var b=a.childNodes,c=b.length;for(this.id=a.getAttribute(\"id\");c--;)switch(a=b[c],a.nodeName){case \"IconStyle\":this.Hu=a=new Jr(a);break;case \"LineStyle\":this.Nh=a=new Er(a);break;case \"PolyStyle\":this.gw=a=new Gr(a);break;case \"BalloonStyle\":this.Dl=a=new Fr(a)}}t(\"H.data.kml.Style\",Kr);function Lr(a,b){a=a.childNodes;var c=a.length,d=new yr;for(this.nD=b;c--;)switch(b=a[c],b.nodeName){case \"key\":this.key=d.Ua(b);break;case \"styleUrl\":this.bl=d.Ua(b)}}t(\"H.data.kml.Pair\",Lr);Lr.prototype.J=function(){if(this.bl){var a=\"highlight\"===this.key?!0:!1;a=this.nD.Rp(this.bl.substr(1),a)}return a};Lr.prototype.getStyle=Lr.prototype.J;function Mr(a,b){var c=a.childNodes,d=c.length;this.hs=b;this.id=a.getAttribute(\"id\");for(this.un=[];d--;)a=c[d],\"Pair\"===a.nodeName&&(a=new Lr(a,this.hs),this.un.push(a))}t(\"H.data.kml.StyleMap\",Mr);Mr.prototype.J=function(a){var b=null;a=a?\"highlight\":\"normal\";for(var c=this.un.length;c--;)this.un[c].key===a&&(b=this.un[c].J());return b};Mr.prototype.getStyle=Mr.prototype.J;function Nr(){this.ix={}}t(\"H.data.kml.StyleContainer\",Nr);Nr.prototype.Ao=function(a){a&&a.id&&(this.ix[\"style_\"+a.id]=a)};Nr.prototype.addStyle=Nr.prototype.Ao;Nr.prototype.Rp=function(a,b){a=this.ix[\"style_\"+a];a instanceof Mr&&(a=a.J(b));return a};Nr.prototype.getStyleById=Nr.prototype.Rp;function Or(a){a=a.childNodes;for(var b,c=a.length,d=null,e=new yr;c--;)b=a[c],\"coordinates\"===b.nodeName&&(d=e.Ua(b));this.jv=null;d&&(this.jv=e.fr(d)||null)}t(\"H.data.kml.Point\",Or);Or.prototype.vh=function(){return this.jv};function Pr(a){a=a.childNodes;for(var b,c=a.length,d=new yr;c--;)if(b=a[c],\"coordinates\"===b.nodeName){b=d.Ua(b);var e=[],f=new yr;try{e=f.$v(b)}catch(g){e=[]}this.Tl=2>e.length?[]:e}}t(\"H.data.kml.Line\",Pr);Pr.prototype.vh=function(){for(var a=new M,b=this.Tl?this.Tl.length:0;b--;)a.sg(this.Tl[b]);return a};function Qr(){}Qr.prototype.elevation=0;Qr.prototype.Ut=0;function Rr(a){var b=a.childNodes,c=b.length;this.Tt=new M;for(this.Ou=[];c--;){var d=b[c];var e=d.nodeName;if(\"outerBoundaryIs\"===e||\"innerBoundaryIs\"===e){var f=d.childNodes;for(d=f.length;d--;){var g=f[d];if(\"LinearRing\"===g.nodeName){var h=new Pr(g);if(\"outerBoundaryIs\"===e){this.Tt=h.vh();var k=void 0,l=a,n=h.Tl;h=new yr;var p=l.querySelector(\"altitudeMode\");if(p&&p.parentNode===l&&!/^\\s*clampTo/.test(h.Ua(p))&&n){p=n.length;for(var q=0;q<p&&0!==k;q++){var r=n[q].alt;r?k?r!==k&&(k=0):k=r:k=0}(n=\nl.querySelector(\"*|altitudeOffset\"))&&n.parentNode===g&&\"http://www.google.com/kml/ext/2.2\"===n.namespaceURI&&(g=h.mm(n))&&(k+=g);k&&(k=yb(2047,k),(g=l.querySelector(\"extrude\"))&&g.parentNode===l&&h.sh(g)?this.Ut=k:this.elevation=k)}}else this.Ou.push(h.vh())}}}}}u(Rr,Qr);t(\"H.data.kml.Polygon\",Rr);function Sr(a,b){var c=a&&a.childNodes||[],d=new yr;if(!a||!b)throw Error(\"Node or stylesContainer is not defined\");this.visibility=!0;this.qC=a;for(a=c.length;a--;){var e=c[a];switch(e.nodeName){case \"name\":this.name=d.Ua(e);break;case \"description\":this.description=d.Ua(e);break;case \"visibility\":this.visibility=d.sh(e);break;case \"open\":this.open=d.sh(e);break;case \"styleUrl\":if(this.bl=d.Ua(e))e=this.bl.substr(1),this.ez=b.Rp(e,!1);break;case \"Style\":this.nv=e=new Kr(e)}}}\nt(\"H.data.kml.Feature\",Sr);function Tr(a,b){var c=document.createElement(\"CANVAS\");c.width=1;c.height=1;this.hs=a;this.eq={};this.hr={};this.Zy=new um(c);this.kd=b||\"\"}Tr.prototype.create=function(a){this.oh=new Sr(a,this.hs);return Ur(this,a)};\nfunction Ur(a,b,c){b=b.childNodes;for(var d=b.length,e,f={},g;d--;){var h=b[d];switch(h.nodeName){case \"Point\":h=new Or(h);g=Vr(a,\"Marker\");if(h=h.vh())e=new $m(h,g),g.gr&&Kc(g.gr,\"statechange\",A(a.cC,a,g.gr,e,g),!1);break;case \"LineString\":h=new Pr(h);g=Vr(a,\"Polyline\");e=new mm(h.vh(),g);break;case \"LinearRing\":h=new Pr(h);g=Vr(a,\"Polyline\");e=new mm(h.vh(),g);break;case \"Polygon\":h=new Rr(h);g=Vr(a,\"Polygon\");g.elevation=h.elevation;g.extrusion=h.Ut;e=new zi(new N(h.Tt,h.Ou),g);break;case \"MultiGeometry\":e=\nUr(a,h,new T)}e&&(a.oh.name&&(f.name=a.oh.name),a.oh.description&&(f.description=a.oh.description),g&&g.Dl&&(f.balloonStyle=g.Dl),f.kmlNode=a.oh.qC,e.setData(f),c&&c.Y(e))}return c||e}\nTr.prototype.cC=function(a,b,c){var d=c.anchor,e=c.scale;c=e+\"_\"+d.x+d.y+d.Ye+d.Zd+\"_\"+c.href;var f={};if(1===a.getState()){var g=this.eq[c];if(!g){var h=d.x;var k=d.y;if(g=a.mc())g={w:g.w*e,h:g.h*e},f.size=g;h=d.Ye&&g?g.w*h:h*e;k=d.Zd&&g?g.h*(1-k):!d.Zd&&g?g.h-k*e:k*e;f.anchor={x:h,y:k};g=new um(a.Se(),f);this.eq[c]=g}b.ve(g)}delete this.hr[c]};\nfunction Vr(a,b){var c=a.oh,d={visibility:c.visibility};var e=new zr;var f=1;var g={x:0,y:0,Ye:!1,Zd:!1};var h=Wr(a,c.ez);c.nv&&(h=Wr(a,c.nv,h));switch(b){case \"Marker\":if(h&&h.Hu){e=h.Hu;e.scale&&(f=e.scale);if(e.Fu){var k=e.Fu;g={x:k.x,y:k.y,Ye:k.Ye,Zd:k.Zd}}e.icon&&e.icon.href?(b=e.icon.href,Xr.test(b)||(b=a.kd+b),e=f+\"_\"+g.x+g.y+g.Ye+g.Zd+\"_\"+b,k=a.eq[e]||a.hr[e],k||(k=new um(b),a.hr[e]=k),0===k.getState()?(d.icon=a.Zy,d.gr=k,d.href=b,d.anchor=g,d.scale=f):1===k.getState()&&(d.icon=k)):1!==f&&\n(k||(g={x:14,y:4,Ye:!1,Zd:!1}),e=um,a=a.Dp(),k={w:28*f,h:36*f},f={size:new Hi(k.w,k.h),anchor:new F(g.Ye?k.w*g.x:g.x*f,g.Zd?k.h*(1-g.y):k.h-g.y*f),hitArea:new Ii(Ji.POLYGON,[0*f,16*f,0*f,7*f,8*f,0*f,18*f,0*f,26*f,7*f,26*f,16*f,18*f,34*f,8*f,34*f])},d.icon=new e(a,f))}break;case \"Polyline\":d.style={};h&&h.Nh&&(f=h.Nh,d.style.strokeColor=\"rgba(\"+Cr(e,f.Ml.color,!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width));break;case \"Polygon\":d.style={},h&&(h.Nh&&(f=h.Nh,d.style.strokeColor=\"rgba(\"+Cr(e,f.Ml.color,\n!0)+\")\",0<=f.width&&(d.style.lineWidth=f.width)),h.gw&&(f=h.gw,d.style.fillColor=f.fill?\"rgba(\"+Cr(e,f.Ml.color,!0)+\")\":\"rgba(0,0,0,0)\",f.outline||(d.style.lineWidth=0)))}d.Dl=h.Dl;return d}function Wr(a,b,c){c=c||{};for(var d in b)b.hasOwnProperty(d)&&(c[d]=\"object\"===typeof b[d]?Wr(a,b[d],c[d]):b[d]);return c}var Xr=/^[^:\\/]+:/;Tr.prototype.Dp=function(){return'<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28px\" height=\"36px\"><path d=\"M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z\" fill=\"#000\" fill-opacity=\".2\"/><path d=\"M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z\" fill=\"#fff\"/><path d=\"M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z\" fill=\"#18d\"/></svg>'};function Yr(a){var b=a?a.lastIndexOf(\"/\"):-1;this.Ak=[];tr.call(this,a);0<=b&&(this.gB=a.substr(0,b)+\"/\")}u(Yr,tr);t(\"H.data.kml.Reader\",Yr);\nYr.prototype.lj=function(a){var b,c=null;if(gb(a)&&\"\"!=a.trim()){try{var d=(new DOMParser).parseFromString(a,\"text/xml\")}catch(h){this.F(ur.ERROR,z,\"Error parsing KML document\");return}if(d.getElementsByTagName(\"parsererror\").length)this.F(ur.ERROR,z,\"Error parsing KML document\");else if((a=d.childNodes&&\"kml\"===d.childNodes[0].nodeName?d.childNodes[0]:void 0)&&(b=Zr(a.childNodes,\"Document\")[0]),b=b||a){d=new Nr;for(var e=Zr(b.childNodes,\"Style\"),f=Zr(b.childNodes,\"StyleMap\"),g=e.length;g--;)a=new Kr(e[g]),\nd.Ao(a);for(g=f.length;g--;)a=new Mr(f[g],d),d.Ao(a);this.NB=new Tr(d,this.gB);a=b.childNodes;for(b=a.length;b--;)if(e=a[b],d=c,\"Placemark\"===e.nodeName?(e=this.NB.create(e))&&this.Rg(e,d):\"Folder\"===e.nodeName&&(e={group:new T,node:e},this.Rg(e.group,d),this.Ak.push(e)),!b&&(d=this.Ak.shift()))a=d.node.childNodes,c=d.group,b=a.length;this.F(ur.READY)}else this.F(ur.ERROR,z,\"Invalid KML document\")}else this.F(ur.ERROR,z,\"Unable to create objects from the empty data\")};\nYr.prototype.Rg=function(a,b){b?b.Y(a):(this.ae&&this.ae.rd().Y(a),this.gj.push(a),this.F(ur.VISIT,a))};function Zr(a,b){for(var c=a.length,d,e=[];c--;)d=a[c],d.nodeName===b&&e.push(d);return e};t(\"H.data.buildInfo\",function(){return Zm(\"H-data\",\"1.57.0\",\"161a2e3\",{region:\"row\"})});\n");